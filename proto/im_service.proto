syntax = "proto3";
package im;
import "im.proto"; 

service LogicService {
    rpc Login (LoginReq) returns (LoginRes);
    rpc SendMsg (MsgSendReq) returns (MsgSendRes);
    rpc SyncMsg (SyncMsgReq) returns (SyncMsgRes);
    rpc RegisterUser (RegisterReq) returns (RegisterRes);
    rpc HttpLogin (HttpLoginReq) returns (HttpLoginRes);
    rpc GetUploadUrl (GetUploadUrlReq) returns (GetUploadUrlRes);
    rpc SendFriendRequest(SendFriendReq) returns (SendFriendRes);
    rpc RespondFriendRequest(RespondFriendReq) returns (RespondFriendRes);
    rpc ListFriends (FriendListReq) returns (FriendListRes);
    rpc GetFriendRequests (GetFriendReqsReq) returns (GetFriendReqsRes);
}
service GatewayService {
    rpc PushMsg (PushMsgReq) returns (PushMsgRes);
}

message PushMsgReq {
    int64 to_uid = 1;
    bytes content = 2;
}

message PushMsgRes {
    int32 err_code = 1;
    string err_msg = 2;
}